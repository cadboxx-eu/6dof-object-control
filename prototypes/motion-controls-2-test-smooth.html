<html>
  <head>
    <title>Motion Controls Testing</title>
    <!-- Replace "../build.js" with the super-hands and
         A-Frame distributions to run : -->
    <!--<script src="../build.js"></script> -->
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    <script src="motion-controls-2.js"></script>
    <script src="keyboard-hand-controls.js"></script>
  </head>
  <body>
    <a-scene>

      <a-mixin id="cube" geometry="primitive: box;"
               scale="0.1 0.1 0.1"
               material = "color:#F88"
               shadow></a-mixin>
      <a-mixin id="controller-cube" geometry="primitive: box;"
              scale="0.1 0.1 0.1"
              material = "color:#888; transparent:true; opacity:0.5"
              shadow></a-mixin>

      <a-entity>
          <a-camera position="0 1.6 0">

          </a-camera>
          <a-entity id="rhand" mixin="touch"
                    hand-controls="hand: right"
                    keyboard-hand-controls="logger:#log-panel3"
                    position="0.2 1.3 -0.3">
          </a-entity>
          <a-entity id="lhand" mixin="touch"
                    hand-controls="hand: left">
          </a-entity>
          <a-entity id="shape-proxy" proxy-controller="controller:#rhand;target:#target;logger:#log-panel2;debug:true" position="0 0 0" class="shape-controller" >
              <a-entity mixin="controller-cube" position="-0.1 0 0"></a-entity>
              <a-entity mixin="controller-cube" position="0 0 0"></a-entity>
              <a-entity mixin="controller-cube" position="0.1 0 0"></a-entity>
              <a-entity mixin="controller-cube" position="0.1 0.1 0"></a-entity>
          </a-entity>

          </a-entity>
          <a-entity id="target" position="0 1.3 -1.1" class="shape" motion-block-controls="proxy:#shape-proxy;logger:#log-panel;debug:true;posunit:0.001;rotunit:0.1">
              <a-entity mixin="cube" position="-0.1 0 0"></a-entity>
              <a-entity mixin="cube" position="0 0 0"></a-entity>
              <a-entity mixin="cube" position="0.1 0 0"></a-entity>
              <a-entity mixin="cube" position="0.1 0.1 0"></a-entity>
          </a-entity>

          <a-text id="log-panel" value="Target Data" position="3 3 -5" color="grey"></a-text>
          <a-text id="log-panel2" value="Proxy Controller Data" position="-1 3 -5" color="grey"></a-text>
          <a-text id="log-panel3" value="Keyboard Sim Data" position="-5 3 -5" color="grey"></a-text>
      </a-entity>
    </a-scene>
  </body>
</html>
